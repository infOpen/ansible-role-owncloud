---

# Defaults vars file for owncloud role

# INSTALLATION VARIABLES
#==============================================================================
owncloud_repository_key_id: 'BCECA90325B072AB1245F739AB7C32C35180350A'

# Base URL of OwnCloud downloads, used to build distribution URL
owncloud_repository_base_url: "{{ 'https://download.owncloud.org/download'
                                    ~ '/repositories/' }}"

# Repository urls can be customized, else default distribution used
owncloud_repository_key_url: ''
owncloud_repository_source_url: ''

owncloud_repository_file_name: 'owncloud.list'
owncloud_repository_file_owner: 'root'
owncloud_repository_file_group: 'root'
owncloud_repository_file_mode: '0644'

owncloud_version: 8.2
owncloud_package_state: 'present'


# GENERAL CONFIGURATION
#==============================================================================
owncloud_data_directory: '/var/www/owncloud/data'
owncloud_www_directory: '/var/www/owncloud'


# ADDITIONAL PACKAGES MANAGEMENT
#==============================================================================

# Webserver configuration
#------------------------
owncloud_webserver_managed_by_this_role: True

owncloud_webserver_cn: ''
owncloud_webserver_name: 'apache' # Only Apache managed today
owncloud_webserver_packages_state: 'present'
owncloud_webserver_remove_existing_endpoints: True
owncloud_webserver_use_only_ssl: True

# SSL management
owncloud_webserver_ssl_certificate:
  directory:
    name: '/etc/ssl/certs'
    owner: 'root'
    group: 'root'
    mode: '0755'
  file:
    name: 'owncloud.pem'
    owner: 'root'
    group: 'root'
    mode: '0644'
owncloud_webserver_ssl_certificate_content: ''

owncloud_webserver_ssl_private_key:
  directory:
    name: '/etc/ssl/private'
    owner: 'root'
    group: 'ssl-cert'
    mode: '0710'
  file:
    name: 'owncloud.key'
    owner: 'root'
    group: 'ssl-cert'
    mode: '0640'
owncloud_webserver_ssl_private_key_content: ''

# VHOST management
owncloud_webserver_vhost_file_name: 'owncloud.conf'
owncloud_webserver_vhosts:
  - alias: []
    name: "{{ owncloud_webserver_cn or ansible_fqdn }}"
    ip: '*'
    use_ssl: True
    port: 443


# Database configuration
#------------------------
owncloud_database_managed_by_this_role: True

owncloud_database_collation: 'utf8_unicode_ci'
owncloud_database_encoding: 'utf8'
owncloud_database_engine: 'mysql'
owncloud_database_name: 'owncloud'
owncloud_database_host: 'localhost'
owncloud_database_user: 'owncloud'
owncloud_database_password: ''
owncloud_database_table_prefix: ''

