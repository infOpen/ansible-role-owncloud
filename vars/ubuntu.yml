---

# Ubuntu distribution vars

# OwnCloud APT repository URL
owncloud_repository_apt_source_url: "{{ owncloud_repository_base_url
                                        ~ owncloud_version
                                        ~ '/Ubuntu_'
                                        ~ ansible_distribution_version }}/"

# Owncloud GPG key URL for distribution
owncloud_repository_apt_key_url: "{{ owncloud_repository_apt_source_url
                                      ~ 'Release.key' }}"

# Packages name
owncloud_packages:
  - owncloud
  - owncloud-server

# All distribution settings about webserver management
owncloud_webserver_management:
  - name: 'apache'
    default_site_endpoints:
      - '000-default'
    default_conf_endpoints:
      - 'owncloud'
    folders:
      conf_enabled: '/etc/apache2/conf-enabled'
      site_enabled: '/etc/apache2/sites-enabled'
      vhost_destination: '/etc/apache2/sites-available'
      vhost_symlink_destination: '/etc/apache2/sites-enabled'
    group: 'www-data'
    packages:
      - 'apache2'
      - 'libapache2-mod-php5'
    port_configuration_files:
      - '/etc/apache2/ports.conf'
    required_modules:
      - 'dir'
      - 'env'
      - 'headers'
      - 'mime'
      - 'rewrite'
      - 'ssl'
    service_name: 'apache2'
    user: 'www-data'
    vhost_file:
      owner: 'root'
      group: 'root'
      mode: '0644'

# All distribution settings about database server management
owncloud_database_management:
  - name: 'mysql'
    files:
      - type: 'configuration'
        dest: '/etc/mysql/conf.d/owncloud.cnf'
        owner: 'root'
        group: 'root'
        mode: '0600'
    packages:
      - 'mysql-server'
      - 'php5-mysql'
      - 'python-mysqldb'
    socket: '/var/run/mysqld/mysqld.sock'

